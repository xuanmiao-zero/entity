<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <meta name="author" content="xuanmiao"/>
    <meta name="copyright" content="xuanmiao"/>
    <meta name="keywords" content="轩邈"/>
    <meta name="description" content="xuanmiao"/>

    <title>musicPlayer</title>
    <!--<link href="./stxuanmiao.css.css" rel="stylesheet" type="text/css"/>-->
    <style>
        body{
            margin: 0;
        }
        #container{
            width: 600px;
            height: 380px;
            background: url("../../img/ilike/1.jpg") ;
            background-size: 100% 100%;
            margin: 60px auto;
            border: 1px solid transparent;
        }
        #musicBox{
            width: 385px;
            height: 241px;
            background: url("../../img/ilike/2.jpg") ;
            background-size: 100% 100%;
            margin: 60px auto;
            border-radius: 5px;
            box-shadow: 0 0 1px 2px rgba(14,160,219,0.5);
            position: relative;
            border: 1px solid transparent;
        }
        #musicBox ul{
            /*background: rgba(16,158,219,0.7);*/
            height:70%;
            list-style: none;
            margin-top: 5%;
            padding: 0;
            overflow: auto;
        }
        #musicBox .operate{
            background: #5A94EF;
            height:16%;
            position: absolute;
            bottom:0;
            width: 100%;
        }
        #musicBox .song{
            height: 34px;
            background: rgba(255,255,255,0.6);
            vertical-align: middle;
            position: relative;
        }
        #musicBox .white{
            background: rgba(255,255,255,0.6);
        }
        #musicBox .blue{
            background: rgba(163,214,238,0.7);
        }
        #musicBox .active{
            background: rgba(90,148,239,0.7);
            color: #eee;
        }
        #musicBox div{
            display: inline-block;
            line-height: 34px;
            font-size: 15px;
        }
        #musicBox  .select{
            width: 11px;
            height: 11px;
            border: 1px solid #bbb;
            border-radius:2px;
            margin-left: 30px;
            vertical-align: -6%;
        }
        #musicBox .song .songName{
            margin-left:14px;
        }
        #musicBox .song .singer{
            position: absolute;
            right:0;
            margin-right:30px;
        }
        #musicBox  .operate .select{
            width: 11px;
            height: 11px;
            border: 1px solid #bbb;
            border-radius:2px;
            margin-left: 30px;
            vertical-align: -2%;
        }
        .selected{
            background: url("../../img/icon/selected.png") 0 0 no-repeat;
            background-size: 11px;
        }
        #musicBox .operate .collection,#musicBox .operate .addto,#musicBox .operate .delete{
            line-height: 40px;
            color: #eee;
            display: inline-block;
            margin: auto 0px;
            width:70px;
            text-align: right;
            background: no-repeat 16px center;
            background-size: 16px;
            cursor: pointer;
        }
        #musicBox .operate .allSelect{
            text-align: left;
            margin-left: 10px;
            color: #fff;
        }
        #musicBox .operate .collection{
            background-image: url("../../img/icon/collection2.png");
        }
        #musicBox .operate .addto{
            background-image: url("../../img/icon/addto.png");
        }
        #musicBox .operate .delete{
            background-image: url("../../img/icon/delete.png");
        }
    </style>
</head>
<body>
<h1 id="title" class="title"></h1>
<div id="container">
    <div id="musicBox">
        <ul class="list">
            <!--<li class="song">-->
                <!--<div class="select"></div>-->
                <!--<div class="songName"></div>-->
                <!--<div class="singer"></div>-->
            <!--</li>-->
        </ul>
        <div class="operate">
            <div class="select"></div>
            <div class="allSelect">全选</div>
            <div class="collection">收藏</div>
            <div class="addto">添加</div>
            <div class="delete">删除</div>
        </div>
    </div>

</div>

<!--<script type="text/javascript" src="./js/jx.min.js"></script>-->
<script type="text/javascript">
    /*获取元素*/
    var list = document.querySelector('.list');
    /*声明变量*/
    var collection = false;
    /*歌曲数组*/
    var songArray = [
        {name:"泡沫",singer:"邓紫棋"},
        {name:"说爱你",singer:"蔡依林"},
        {name:"稻香",singer:"周杰伦"},
        {name:"我的梦",singer:"张靓颖"},
        {name:"怎么说我不爱你",singer:"萧敬腾"}];
    //选中的歌曲数量
    var selectedNum = 0;
    /*初始化*/
    //创建歌单
    for(var i = 0; i <songArray.length; i ++){
        list.innerHTML += "<li class=\"song\">\n" +
            "                <div class=\"select\"></div>\n" +
            "                <div class=\"songName\"></div>\n" +
            "                <div class=\"singer\"></div>\n" +
            "            </li>";
    }
    /*获取元素*/
    var selects = document.querySelectorAll('.select');
    var songs = document.querySelectorAll('.song');
    var songNames = document.querySelectorAll('.song .songName');
    var singers = document.querySelectorAll('.song .singer');
    var allSelectedFrame = document.querySelector('.operate .select');
    var allSelected = document.querySelector('.allSelect');
    var collection = document.querySelector('.collection');
    for(var i = 0; i < songArray.length; i ++){
        //隔行换色
        i % 2 === 0? songs[i].className += " white":songs[i].className += " blue";
        //加载歌曲
        songNames[i].innerText = songArray[i].name;
        singers[i].innerText = songArray[i].singer;
        songs[i].index = i;
        //鼠标移入变色
        songs[i].onmouseover = function () {
            this.className += " active";
        };
        //鼠标移出恢复
        songs[i].onmouseout = function () {
            if(!this.selected)
                this.index % 2 ? this.className = "song white":this.className = "song blue";
        };
        //鼠标点击锁定颜色
        songs[i].onclick = function () {
            if(this.selected === true){
                this.selected = false;
                selects[this.index].className = "select";
                selectedNum --;
                if(selectedNum !== songArray.length){
                    allSelectedFrame.className = "select";
                }
            }else{
                this.selected = true;
                selects[this.index].className += " selected";
                selectedNum ++;
                //判断是否全选
                if(selectedNum === songArray.length){
                    allSelectedFrame.className += " selected";
                }
            }
        };
    }
    //全选框点击
    allSelectedFrame.onclick = allSelected.onclick=function () {
        if(selectedNum === songArray.length){
            allSelectedFrame.className = "select";
            for(var i = 0 ; i <songArray.length ; i ++){
                selectedNum --;
                songs[i].index % 2 ? songs[i].className += "song white ":songs[i].className = "song blue";
                selects[i].className = "select";
            }
        }else{
            allSelectedFrame.className += " selected";
            for(var i = 0 ;i < songArray.length; i ++){
                selectedNum ++;
                songs[i].className += "active";
                selects[i].className += " selected";
            }
        }
    };
    //收藏按钮点击
    collection.onclick = function () {
        if(collection){
            this.style.backgroundImage = 'url("../../img/icon/collection.png")';
            collection = false;
        }else{
            this.style.backgroundImage = 'url("../../img/icon/collection2.png")';
            collection = true;
        }
    };
</script>
</body>
</html>