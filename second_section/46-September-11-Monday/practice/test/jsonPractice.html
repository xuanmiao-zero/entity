<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="author" content="轩邈">
    <meta name="copyright" content="轩邈">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <!-- 网站SEO -->
    <title>Title</title>
    <meta name="keywords" content="轩邈 xuanmiao xuanmiao.com">
    <meta name="description" content="轩邈 | 猎奇蜗牛">
    <style>

    </style>
</head>
<body>

<ul class="jsonPosition">

</ul>

<script>

    var json = {
        menu:[
            {
                "id":1,
                "key":"xuanmiao1",
                "value":"轩邈1"
            },
            {
                "id":2,
                "key":"xuanmiao2",
                "value":"轩邈2"
            },
            {
                "id":3,
                "key":"xuanmiao3",
                "value":"轩邈3"
            }
        ],
        content:{
            xuanmiao1: [
                {
                    "author": "xuanmiao",
                    "content": "在薄情的世界上，深情的装逼。"
                },
                {
                    "author": "xuanmiao",
                    "content": "在薄情的世界上，深情的装逼。"
                },
                {
                    "author": "xuanmiao",
                    "content": "在薄情的世界上，深情的装逼。"
                }
            ],
            xuanmiao2:[
                {
                    "author": "xuanmiao",
                    "content": "222222222222222222222"
                },
                {
                    "author": "xuanmiao",
                    "content": "222222222222222222222"
                },
                {
                    "author": "xuanmiao",
                    "content": "222222222222222222222"
                }

            ],
            xuanmiao3: [
                {
                    "author": "xuanmiao",
                    "content": "33333333333333333333333333333"
                },
                {
                    "author": "xuanmiao",
                    "content": "33333333333333333333333333333"
                },
                {
                    "author": "xuanmiao",
                    "content": "33333333333333333333333333333"
                }
            ]
        }
    };
    var ulList = document.querySelector('.jsonPosition');
//    var navListLength = getObjectLength(json);
    showList("xuanmiao1");
    for(var i = 0; i < json.menu.length; i ++){
        var button = document.createElement('button');
        button.index = json.menu[i].key;
        button.innerHTML = json.menu[i].value;
        button.onclick = function () {
            showList(this.index);
        };
        document.body.insertBefore(button,ulList);
    }
    function showList(index){
        ulList.innerHTML = "";
        for(var j = 0; j < json["content"][index].length; j++){
            ulList.innerHTML += '<li>作者：<span>' + json["content"][index][j].author + '</span>' + json["content"][index][j].content + '</span></li>';
        }
    }
    function getObjectLength(obj){
        var count = 0;
        for(var i in obj){
            count ++;
        }
        return count - 1;
    }
</script>
</body>
</html>